<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Quick start tutorial - Soda Documentation</title> <link rel="shortcut icon" href="/soda-sql/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/soda-sql/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="/soda-sql/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/soda-sql/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.7.1 --> <title>Quick start tutorial | Soda Documentation</title> <meta name="generator" content="Jekyll v4.2.0" /> <meta property="og:title" content="Quick start tutorial" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Learn how to use Soda to test and monitor data quality." /> <meta property="og:description" content="Learn how to use Soda to test and monitor data quality." /> <link rel="canonical" href="/soda-sql/getting-started/5_min_tutorial.html" /> <meta property="og:url" content="/soda-sql/getting-started/5_min_tutorial.html" /> <meta property="og:site_name" content="Soda Documentation" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Quick start tutorial" /> <script type="application/ld+json"> {"url":"/soda-sql/getting-started/5_min_tutorial.html","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"/soda-sql/assets/images/soda-logo.svg"}},"description":"Learn how to use Soda to test and monitor data quality.","@type":"WebPage","headline":"Quick start tutorial","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="/soda-sql/" class="site-title lh-tight"> <div class="site-logo"></div> </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"> <li class="nav-list-item active"> <a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"> <use xlink:href="#svg-arrow-right"></use> </svg></a> <a class="nav-list-link" href="/soda-sql/getting-started/5_min_tutorial.html">Get Started</a> <ul class="nav-list "> <li class="nav-list-item"> <a class="nav-list-link active" href="/soda-sql/getting-started/5_min_tutorial.html">Quick start tutorial</a> </li> <li class="nav-list-item"> <a class="nav-list-link " href="/soda-sql/getting-started/installation.html">Install Soda SQL</a> </li> <li class="nav-list-item"> <a class="nav-list-link " href="/soda-sql/getting-started/configure.html">Configure Soda SQL</a> </li> </ul> </li> <li class="nav-list-item "> <a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"> <use xlink:href="#svg-arrow-right"></use> </svg></a> <a class="nav-list-link" href="/soda-sql/documentation/concepts.html">Documentation</a> <ul class="nav-list "> <li class="nav-list-item"> <a class="nav-list-link " href="/soda-sql/documentation/concepts.html">How Soda SQL works</a> </li> <li class="nav-list-item"> <a class="nav-list-link " href="/soda-sql/documentation/cli.html">Soda SQL CLI commands</a> </li> <li class="nav-list-item"> <a class="nav-list-link " href="/soda-sql/documentation/warehouse.html">Warehouse YAML</a> </li> <li class="nav-list-item"> <a class="nav-list-link " href="/soda-sql/documentation/warehouse_types.html">Set warehouse configuration</a> </li> <li class="nav-list-item"> <a class="nav-list-link " href="/soda-sql/documentation/scan.html">Scan YAML</a> </li> <li class="nav-list-item"> <a class="nav-list-link " href="/soda-sql/documentation/sql_metrics.html">Metrics</a> </li> <li class="nav-list-item"> <a class="nav-list-link " href="/soda-sql/documentation/tests.html">Tests</a> </li> <li class="nav-list-item"> <a class="nav-list-link " href="/soda-sql/documentation/filtering.html">Apply filters</a> </li> <li class="nav-list-item"> <a class="nav-list-link " href="/soda-sql/documentation/programmatic_scan.html">Configure programmatic scans</a> </li> <li class="nav-list-item"> <a class="nav-list-link " href="/soda-sql/documentation/orchestrate_scans.html">Configure orchestrated scans</a> </li> <li class="nav-list-item"> <a class="nav-list-link " href="/soda-sql/documentation/soda-cloud-architecture.html">Soda Cloud Architecture</a> </li> <li class="nav-list-item"> <a class="nav-list-link " href="/soda-sql/documentation/connect_to_cloud.html">Connect to Soda Cloud</a> </li> <li class="nav-list-item"> <a class="nav-list-link " href="/soda-sql/documentation/monitors.html">Create monitors and alerts</a> </li> <li class="nav-list-item"> <a class="nav-list-link " href="/soda-sql/documentation/integrate-slack.html">Integrate with Slack</a> </li> <li class="nav-list-item"> <a class="nav-list-link " href="/soda-sql/documentation/troubleshoot.html">Troubleshoot</a> </li> <li class="nav-list-item"> <a class="nav-list-link " href="/soda-sql/documentation/glossary.html">Glossary</a> </li> </ul> </li> <li class="nav-list-item"> <a class="nav-list-link " href="/soda-sql/community.html">Community</a> </li> </ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Soda Documentation" aria-label="Search Soda Documentation" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="//github.com/sodadata/soda-sql" class="site-button" > Soda SQL on GitHub </a> </li> </ul> </nav> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="">Get Started</a></li> <li class="breadcrumb-nav-list-item"><span>Quick start tutorial</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <h1 id="quick-start-tutorial"> <a href="#quick-start-tutorial" class="anchor-heading" aria-labelledby="quick-start-tutorial"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Quick start tutorial </h1> <p>Use your command-line interface to <strong>connect</strong> Soda SQL to your database, prepare default <strong>tests</strong> that will surface “bad” data, then run your first <strong>scan</strong> in a few minutes. <br /> <br /></p> <p><img src="../assets/images/tutorial-happy-path.png" alt="tutorial-happy-path" height="600px" width="600px" /></p> <h2 id="create-a-sample-warehouse-optional"> <a href="#create-a-sample-warehouse-optional" class="anchor-heading" aria-labelledby="create-a-sample-warehouse-optional"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Create a sample warehouse (optional) </h2> <p>In the context of Soda SQL, a warehouse represents a SQL engine or database such as Snowflake, AWS Redshift, or PostgreSQL. If you do not have access to a warehouse on your system, you can use Docker to build a sample PostgreSQL warehouse so that you can set up your Soda SQL CLI tool and see it in action.</p> <p>All the instructions below reference this sample warehouse in the commands.</p> <ol> <li>From your command-line interface, execute the following to build a containerized PostgreSQL warehouse. Note that the <code class="language-plaintext highlighter-rouge">-v</code> option connects to a location on your local drive in which Soda SQL will create your warehouse directory file further in this tutorial. <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker run <span class="nt">--name</span> soda_sql_tutorial_db <span class="nt">--rm</span> <span class="nt">-d</span> <span class="se">\</span>
 <span class="nt">-p</span> 5432:5432 <span class="se">\</span>
 <span class="nt">-v</span> soda_sql_tutorial_postgres:/var/lib/postgresql/data:rw <span class="se">\</span>
 <span class="nt">-e</span> <span class="nv">POSTGRES_USER</span><span class="o">=</span>sodasql <span class="se">\</span>
 <span class="nt">-e</span> <span class="nv">POSTGRES_DB</span><span class="o">=</span>sodasql <span class="se">\</span>
 <span class="nt">-e</span> <span class="nv">POSTGRES_HOST_AUTH_METHOD</span><span class="o">=</span>trust <span class="se">\</span>
 postgres:9.6.17-alpine
</code></pre></div> </div> </li> <li>Load sample data into your warehouse. <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker <span class="nb">exec </span>soda_sql_tutorial_db <span class="se">\</span>
  sh <span class="nt">-c</span> <span class="s2">"wget -qO - https://raw.githubusercontent.com/sodadata/soda-sql/main/tests/demo/demodata.sql | psql -U sodasql -d sodasql"</span>
</code></pre></div> </div> </li> </ol> <h2 id="connect-soda-sql-to-the-warehouse"> <a href="#connect-soda-sql-to-the-warehouse" class="anchor-heading" aria-labelledby="connect-soda-sql-to-the-warehouse"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Connect Soda SQL to the warehouse </h2> <p>The instructions below reference the sample warehouse in the commands. Customize the example commands to use your own PostgreSQL warehouse connection details, if you like.</p> <ol> <li>From your command-line interface, verify your <a href="/soda-sql/getting-started/installation.html">installation</a> of Soda SQL using the <code class="language-plaintext highlighter-rouge">soda</code> command. <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>soda
Usage: soda <span class="o">[</span>OPTIONS] COMMAND <span class="o">[</span>ARGS]...
</code></pre></div> </div> </li> <li>Create, then navigate to a new Soda SQL warehouse directory. The example below creates a directory named <code class="language-plaintext highlighter-rouge">soda-sql-tutorial</code>. <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">mkdir </span>soda_sql_tutorial
<span class="nv">$ </span><span class="nb">cd </span>soda_sql_tutorial
</code></pre></div> </div> </li> <li>Use the <code class="language-plaintext highlighter-rouge">soda create</code> command to create and pre-populate two files that enable you to configure connection details for Soda SQL to access your warehouse: <ul> <li>a <code class="language-plaintext highlighter-rouge">warehouse.yml</code> file which stores access details for your warehouse (<a href="/soda-sql/documentation/warehouse.html">read more</a>)</li> <li>an <code class="language-plaintext highlighter-rouge">env_vars.yml</code> file which securely stores warehouse login credentials (<a href="/soda-sql/documentation/warehouse.html#env_vars-yaml">read more</a>)<br /> <br /> Command: <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>soda create <span class="nt">-d</span> sodasql <span class="nt">-u</span> sodasql <span class="nt">-w</span> soda_sql_tutorial postgres
</code></pre></div> </div> <p>Output:</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>| Soda CLI version ...
| Creating warehouse YAML file warehouse.yml ...
| Creating /Users/tom/.soda/env_vars.yml with example <span class="nb">env </span>vars <span class="k">in </span>section soda_sql_tutorial
| Review warehouse.yml by running <span class="nb">command</span>
|   <span class="nb">cat </span>warehouse.yml
| Review section soda_sql_tutorial <span class="k">in</span> ~/.soda/env_vars.yml by running <span class="nb">command</span>
|   <span class="nb">cat</span> ~/.soda/env_vars.yml
| Then run the soda analyze <span class="nb">command</span>
</code></pre></div> </div> </li> </ul> </li> <li>Optionally, use the following commands to review the contents of the two YAML files you created. You do not need to adjust any contents as Soda SQL has already configured the warehouse connection details. <ul> <li><code class="language-plaintext highlighter-rouge">cat ./warehouse.yml</code></li> <li><code class="language-plaintext highlighter-rouge">cat ~/.soda/env_vars.yml</code></li> </ul> </li> </ol> <h2 id="prepare-default-tests"> <a href="#prepare-default-tests" class="anchor-heading" aria-labelledby="prepare-default-tests"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Prepare default tests </h2> <ol> <li>Use the <code class="language-plaintext highlighter-rouge">soda analyze</code> command to get Soda SQL to sift through the contents of your warehouse and automatically prepare a scan YAML file for each table. Soda SQL puts the YAML files in a new <code class="language-plaintext highlighter-rouge">/tables</code> directory in the warehouse directory you created. Read more about <a href="/soda-sql/documentation/scan.htmlcreate-a-scan-yaml-file">scan YAML</a> files.<br /> <br /> Command: <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>soda analyze
</code></pre></div> </div> <p>Output:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  | Analyzing warehouse.yml ...
  | Querying warehouse for tables
  | Creating tables directory tables
  | Executing SQL query:
SELECT table_name
FROM information_schema.tables
WHERE lower(table_schema)='public'
  | SQL took 0:00:00.007998
  | Creating tables/demodata.yml ...
  | Executing SQL query:
...
  | SQL took 0:00:00.000647
  | Next run 'soda scan warehouse.yml tables/demodata.yml' to calculate measurements and run tests
</code></pre></div> </div> </li> <li>Use the following command to review the contents of the new scan YAML file that Soda SQL created and named <code class="language-plaintext highlighter-rouge">demodata.yml</code>.<br /> <br /> Command: <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cat</span> ./tables/demodata.yml
</code></pre></div> </div> <p>Output:<br /> <img src="../assets/images/tutorial-output.png" alt="tutorial-output" height="340px" width="340px" /></p> </li> <li>Note the three tests that Soda SQL configured in <code class="language-plaintext highlighter-rouge">demodata.yml</code>. When it created this file, Soda SQL pre-populated it with the <code class="language-plaintext highlighter-rouge">test</code> and <code class="language-plaintext highlighter-rouge">metric</code> configurations it deemed useful based on the data in the table it analyzed. Read more about the <a href="/soda-sql/documentation/scan.html#anatomy-of-the-scan-yaml-file">Anatomy of the scan YAML file</a>.</li> </ol> <h2 id="run-a-scan"> <a href="#run-a-scan" class="anchor-heading" aria-labelledby="run-a-scan"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Run a scan </h2> <ol> <li>Use the <code class="language-plaintext highlighter-rouge">soda scan</code> command to run tests against the data in the demodata warehouse. As input, the command requires the name of the warehouse to scan, and the path and name of the table in the warehouse. <br /> <br /> Command: <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>soda scan warehouse.yml tables/demodata.yml
</code></pre></div> </div> </li> <li>Examine the output of the command, in particular the lines at the bottom that indicate the results of the tests Soda SQL ran against your data. In this example, all the tests passed which indicates that there are no issues with the data.<br /> <br /> Output: <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  | Soda CLI version 2.0.0 beta
  | Scanning demodata <span class="k">in</span> ./soda_sql_tutorial ...
  | Environment variable POSTGRES_PASSWORD is not <span class="nb">set</span>
  | Executing SQL query:
SELECT column_name, data_type, is_nullable
FROM information_schema.columns
WHERE lower<span class="o">(</span>table_name<span class="o">)</span> <span class="o">=</span> <span class="s1">'demodata'</span>
  AND table_catalog <span class="o">=</span> <span class="s1">'sodasql'</span>
  AND table_schema <span class="o">=</span> <span class="s1">'public'</span>
  | SQL took 0:00:00.029199
  | 6 columns:
  |   <span class="nb">id </span>character varying
  |   name character varying
  |   size integer
  |   <span class="nb">date date</span>
  |   feepct character varying
  |   country character varying
  | Query measurement: schema <span class="o">=</span> <span class="nb">id </span>character varying, name character varying, size integer, <span class="nb">date date</span>, feepct character varying, country character varying
  | Executing SQL query:
SELECT
  COUNT<span class="o">(</span><span class="k">*</span><span class="o">)</span>,
  COUNT<span class="o">(</span><span class="nb">id</span><span class="o">)</span>,
  MIN<span class="o">(</span>LENGTH<span class="o">(</span><span class="nb">id</span><span class="o">))</span>,
  MAX<span class="o">(</span>LENGTH<span class="o">(</span><span class="nb">id</span><span class="o">))</span>,
  COUNT<span class="o">(</span>name<span class="o">)</span>,
  MIN<span class="o">(</span>LENGTH<span class="o">(</span>name<span class="o">))</span>,
  MAX<span class="o">(</span>LENGTH<span class="o">(</span>name<span class="o">))</span>,
  COUNT<span class="o">(</span>size<span class="o">)</span>,
...
  | missing_count<span class="o">(</span>country<span class="o">)</span> <span class="o">=</span> 0
  | values_percentage<span class="o">(</span>country<span class="o">)</span> <span class="o">=</span> 100.0
  | All good. 38 measurements computed. No tests failed.
</code></pre></div> </div> </li> <li>If you used Docker to create a sample PostgreSQL warehouse for this tutorial, be sure to execute the following commands to stop the container. <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker stop soda_sql_tutorial_db
<span class="nv">$ </span>docker volume <span class="nb">rm </span>soda_sql_tutorial_postgres
</code></pre></div> </div> </li> </ol> <h2 id="go-further"> <a href="#go-further" class="anchor-heading" aria-labelledby="go-further"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Go further </h2> <ul> <li><a href="https://github.com/sodadata/soda-sql/discussions">Post your feedback</a> about this tutorial!</li> <li>Learn more about <a href="/soda-sql/documentation/concepts.html">How Soda SQL works</a>.</li> <li>Learn more about the <a href="/soda-sql/documentation/scan.html">scan YAML file</a> and how to <a href="/soda-sql/documentation/scan.html#run-a-scan">run scans</a>.</li> <li>Learn more about configuring <a href="/soda-sql/documentation/tests.html">tests</a> and <a href="/soda-sql/documentation/sql_metrics.html">metrics</a>.</li> <li>Configure your warehouse YAML to <a href="/soda-sql/documentation/warehouse_types.html">connect to your warehouse</a>.</li> </ul> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
